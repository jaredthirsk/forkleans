<Project>
  <!-- Set InformationVersion here, since $(Version) is already set at this point. -->
  <PropertyGroup>
    <InformationalVersion>$(Version). Commit Hash: $(GitHeadSha)</InformationalVersion>
  </PropertyGroup>

  <Import Condition=" '$(OrleansBuildTimeCodeGen)' == 'true' " Project="$(MSBuildThisFileDirectory)src/Forkleans.CodeGenerator/build/Microsoft.Forkleans.CodeGenerator.props" />
  <Import Condition=" '$(OrleansBuildTimeCodeGen)' == 'true' " Project="$(MSBuildThisFileDirectory)src/Forkleans.Sdk/build/Microsoft.Forkleans.Sdk.targets" />
  <ItemGroup>
    <!-- Enable code generator -->
    <ProjectReference
      Include="$(SourceRoot)src/Forkleans.CodeGenerator/Forkleans.CodeGenerator.csproj"
      OutputItemType="Analyzer"
      PrivateAssets="None"
      Condition=" '$(OrleansBuildTimeCodeGen)' == 'true' "/>
    <ProjectReference
      Include="$(SourceRoot)src/Forkleans.Analyzers/Forkleans.Analyzers.csproj"
      AssetTargetFallback="netstandard2.0"
      UndefineProperties="TargetFramework"
      SkipGetTargetFrameworkProperties="true"
      OutputItemType="Analyzer"
      PrivateAssets="None"
      Condition=" '$(OrleansBuildTimeCodeGen)' == 'true' "/>
  </ItemGroup>

</Project>
